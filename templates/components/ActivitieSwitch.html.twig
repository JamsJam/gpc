<div{{ attributes.defaults(
    stimulus_controller('switch_tab')
            |stimulus_target( 'switch_tab','container')
) }}
    class="activite__component {{mode}}"
>
    <!-- component html -->
    <div class="switch__container">
        <div class="switch__activities" data-mode='activities' {{stimulus_action('switch_tab','handleTabClick','click')}}>
            <p>Activité</p>
        </div>
        <div class="switch__excursions"  data-mode='excursions' {{stimulus_action('switch_tab','handleTabClick','click')}}>
            <p>Excursions</p>
        </div>
    </div>
    <div class="activite__carte ">
        <h4>
            {% if mode is same as 'activities' %}
                {% set markerArray = activiteMarkers %}
                lorem activité
            {% else %}
                {% set markerArray = excursionMarkers %}
                lorem excursion
            {% endif %}
        </h4>

        <div class="carte__container">
            {# <div> #}
                {# carte #}
                {{ ux_map(
                    map,
                    attributes: {
                        'class': 'carte__component',
                        'data-switch-tab-target': 'map',
                        'data-controller': 'controllemap',
                    }
                    
                ) }}

            {# </div> #}
            
            <div class="carte__controller">
                <div class="marker__grid">
                    {# markers grid loop #}
                    {% for marker in markerArray %}
                        
                    <div class="marker__container">
                        {{ ux_icon('line-md:map-marker-filled') }}
                        <p>{{marker['titre']}} </p>
                    </div>
                    {% endfor %}
                    

                </div>
                <a class="button__secondary" href="">Voir notre catalogue</a>
            </div>

        </div>
    </div>
</div>
